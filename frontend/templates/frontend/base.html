<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-santé 4.0 - H-TECH | {% block title %}{% endblock %}</title>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#0A74DA',
                        secondary: '#22C58E',
                        dark: '#1D242E',
                        light: '#F2F5F9'
                    }
                }
            }
        }

        // Charger le thème immédiatement pour éviter le flash blanc
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>

<body class="bg-light dark:bg-dark text-gray-900 dark:text-white transition-colors duration-200">
    {% block content %}{% endblock %}

    <script>
        // Initialiser les icônes Lucide
        lucide.createIcons();

        // Gestion du thème (Dark Mode)
        function toggleContrast() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }
        //Malick
        const UPDATE_INTERVAL = 500;
        const API_ENDPOINT = 'health/api/heartbeat/'; //Route Django
        //End Malick
    </script>
</body>

</html>